<script>
    function sumsubarray(arr){
        let maxsum=arr[0];
        let res=arr[0];
        let start=0;
        let end=0;
        tempstart=0;

        for(let i=1;i<arr.length;i++){
            if(arr[i]>res+arr[i]){
                res=arr[i];
                tempstart=i;
            }
            else{
                res+=arr[i];
            }
            if(res>maxsum){
                maxsum=res;
                start=tempstart;
                end=i;
            }
        }
        let subarray=arr.slice(start,end+1);
        return{
            maxsum:maxsum,
            subarray:subarray
        };
    }
    let arr=[-2,1,-3,4,-1,2,1];
    let result=sumsubarray(arr);

    console.log(result.maxsum);
    console.log(result.subarray)
</script>